{
    "access_log": "/dev/stdout",

    "listeners": {
        "*:9000": {
            "pass": "routes"
        }
     },

    "routes": [
        {
            "match": {
                "uri": "/add"
            },
            "action": {
                "pass": "applications/add"
            }
        },
        {
            "match": {
                "uri": "/subtract"
            },
            "action": {
                "pass": "applications/subtract"
            }
        },
        {
            "match": {
                "uri": "/multiply"
            },
            "action": {
                "pass": "applications/multiply"
            }
        },
        {
            "match": {
                "uri": "/divide"
            },
            "action": {
                "pass": "applications/divide"
            }
        },
        {
            "match": {
                "uri": "/sqroot"
            },
            "action": {
                "pass": "applications/sqroot"
            }
        },
        {
            "match": {
                "uri": "/square"
            },
            "action": {
                "pass": "applications/square"
            }
        },
        {
            "match": {
                "uri": "/inverse"
            },
            "action": {
                "pass": "applications/inverse"
            }
        },
        {
            "action": {
                "share": "/var/www/unit-calculator/frontend$uri"
            }
        }
    ],

    "applications": {
        "add": {
            "type": "python",
            "path": "/var/www/unit-calculator/backend",
            "module": "add"
        },
        "subtract": {
            "type": "ruby",
            "working_directory": "/var/www/unit-calculator/backend",
            "script": "subtract.ru"
        },
        "multiply": {
            "type": "java",
            "webapp": "/var/www/unit-calculator/backend/"
        },
        "divide": {
            "type": "external",
            "working_directory": "/var/www/unit-calculator/backend",
            "executable": "divide.js"
        },
        "sqroot": {
            "type": "external",
            "working_directory": "/var/www/unit-calculator/backend",
            "executable": "sqroot"
        },
        "square": {
            "type": "php",
            "root": "/var/www/unit-calculator/backend",
            "script": "square.php"
        },
        "inverse": {
            "type": "perl",
            "script": "/var/www/unit-calculator/backend/inverse.psgi"
        }
    }
}
